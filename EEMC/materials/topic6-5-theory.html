<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ–º–∞ 6.5 - –ú—å—é—Ç–µ–∫—Å—ã | –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ Go</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/code-styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/go.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
        <nav class="navbar">
            <div class="nav-container">
                <a href="../index.html" class="nav-logo">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
                <div class="nav-links">
                    <a href="#section1" class="nav-link">–ü—Ä–æ–±–ª–µ–º–∞ –≥–æ–Ω–∫–∏ –¥–∞–Ω–Ω—ã—Ö</a>
                    <a href="#section2" class="nav-link">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Mutex</a>
                    <a href="#section3" class="nav-link">RWMutex</a>
                </div>
            </div>
        </nav>

        <!-- –•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ -->
        <div class="breadcrumbs">
            <a href="../index.html">–ì–ª–∞–≤–Ω–∞—è</a>
            <span class="breadcrumb-separator">/</span>
            <a href="#">–†–∞–∑–¥–µ–ª 6</a>
            <span class="breadcrumb-separator">/</span>
            <span class="breadcrumb-current">–¢–µ–º–∞ 6.5</span>
        </div>

        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–µ–º—ã -->
        <header class="theory-header">
            <h1 class="theory-title">–¢–µ–º–∞ 6.5: –ú—å—é—Ç–µ–∫—Å—ã</h1>
            <p class="theory-subtitle">–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–±—â–∏–º —Ä–µ—Å—É—Ä—Å–∞–º —Å –ø–æ–º–æ—â—å—é –º—å—é—Ç–µ–∫—Å–æ–≤</p>
        </header>

        <main class="theory-content">
            <!-- –°–µ–∫—Ü–∏—è 1: –ü—Ä–æ–±–ª–µ–º–∞ –≥–æ–Ω–∫–∏ –¥–∞–Ω–Ω—ã—Ö -->
            <section id="section1" class="content-section">
                <h2 class="section-heading">–ü—Ä–æ–±–ª–µ–º–∞ –≥–æ–Ω–∫–∏ –¥–∞–Ω–Ω—ã—Ö</h2>
                
                <div class="text-content">
                    <p>–ú—å—é—Ç–µ–∫—Å—ã –ø–æ–∑–≤–æ–ª—è—é—Ç —Ä–∞–∑–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –æ–±—â–∏–º —Ä–µ—Å—É—Ä—Å–∞–º, –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—è, —á—Ç–æ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –≥–æ—Ä—É—Ç–∏–Ω–∞ –∏–º–µ–µ—Ç –∫ –Ω–∏–º –¥–æ—Å—Ç—É–ø –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏. –ò –ø–æ–∫–∞ –æ–¥–Ω–∞ –≥–æ—Ä—É—Ç–∏–Ω–∞ –Ω–µ –æ—Å–≤–æ–±–æ–¥–∏—Ç –æ–±—â–∏–π —Ä–µ—Å—É—Ä—Å, –¥—Ä—É–≥–∞—è –≥–æ—Ä—É—Ç–∏–Ω–∞ –Ω–µ –º–æ–∂–µ—Ç —Å –Ω–∏–º —Ä–∞–±–æ—Ç–∞—Ç—å.</p>

                    <p>–†–∞—Å—Å–º–æ—Ç—Ä–∏–º —Å–∏—Ç—É–∞—Ü–∏—é, –∫–æ–≥–¥–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≥–æ—Ä—É—Ç–∏–Ω —Ä–∞–±–æ—Ç–∞—é—Ç —Å –æ–±—â–∏–º —Ä–µ—Å—É—Ä—Å–æ–º –±–µ–∑ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:</p>

                    <div class="code-example">
                        <h4>–ü—Ä–∏–º–µ—Ä - –ì–æ–Ω–∫–∞ –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏</h4>
                        <pre><code class="language-go">package main
import (
    "fmt"
    "sync"
    "time"
)
 
var counter int = 0             // –æ–±—â–∏–π —Ä–µ—Å—É—Ä—Å
var wg sync.WaitGroup 
     
func work (number int){
    counter = 0  // —Å–±—Ä–∞—Å—ã–≤–∞–µ–º –æ–±—â–∏–π —Ä–µ—Å—É—Ä—Å
 
    for k := 1; k <= 5; k++{
        counter += 1       // –∏–∑–º–µ–Ω—è–µ–º –æ–±—â–∏–π —Ä–µ—Å—É—Ä—Å
        time.Sleep(100 * time.Millisecond) // –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏
        fmt.Println("Goroutine", number, "-", counter)
    }
    wg.Done()       // —Å–∏–≥–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º, —á—Ç–æ –≥–æ—Ä—É—Ç–∏–Ω–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞ —Ä–∞–±–æ—Ç—É
}
 
func main() {
    goroutines_count := 4   // –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—É—Å–∫–∞–µ–º—ã—Ö –≥–æ—Ä—É—Ç–∏–Ω
 
    wg.Add(goroutines_count) 
 
    // –∑–∞–ø—É—Å–∫–∞–µ–º –≥–æ—Ä—É—Ç–∏–Ω—ã
    for i := 1; i <= goroutines_count; i++{
        go work(i)
    }
    // –æ–∂–∏–¥–∞–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –≥–æ—Ä—É—Ç–∏–Ω
    wg.Wait()
 
    fmt.Println("The End")
}</code></pre>
                    </div>

                    <p>–§—É–Ω–∫—Ü–∏—è <code>work</code> —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π <code>counter</code> –∫ –Ω—É–ª—é –∏ –≤ —Ü–∏–∫–ª–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ 5. –í —Ñ—É–Ω–∫—Ü–∏–∏ <code>main</code> –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ç—ã—Ä–µ –≥–æ—Ä—É—Ç–∏–Ω—ã <code>work</code>. –ù–æ –∫–∞–∫–æ–π –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç –∫–æ–Ω—Å–æ–ª—å–Ω—ã–π –≤—ã–≤–æ–¥? –û–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫–∏–º:</p>

                    <div class="code-example">
                        <h4>–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ (–Ω–µ–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)</h4>
                        <pre><code class="language-text">Goroutine 3 - 1
Goroutine 2 - 2
Goroutine 1 - 3
Goroutine 4 - 1
Goroutine 4 - 5
Goroutine 1 - 6
Goroutine 3 - 7
Goroutine 2 - 8
Goroutine 4 - 9
Goroutine 2 - 10
Goroutine 3 - 11
Goroutine 1 - 12
Goroutine 1 - 13
Goroutine 4 - 14
Goroutine 3 - 15
Goroutine 2 - 16
Goroutine 4 - 17
Goroutine 1 - 17
Goroutine 2 - 17
Goroutine 3 - 17
The End</code></pre>
                    </div>

                    <div class="warning-box">
                        <strong>‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ:</strong> –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –≤ –∫–∞–∂–¥–æ–π –≥–æ—Ä—É—Ç–∏–Ω–µ –∑–Ω–∞—á–µ–Ω–∏–µ <code>counter</code> —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∫ 0, –∞ –∑–∞—Ç–µ–º —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –¥–æ 5, –º—ã –≤–∏–¥–∏–º, —á—Ç–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≥–æ—Ä—É—Ç–∏–Ω –ø–æ—Å–ª–µ —Å–±—Ä–æ—Å–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç–∞—é—Ç —Å–æ–≤—Å–µ–º —Å –¥—Ä—É–≥–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º. –¢–æ –µ—Å—Ç—å –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –≥–æ—Ä—É—Ç–∏–Ω –∫–∞–∂–¥–∞—è –∏–∑ –Ω–∏—Ö –ø–æ–ª—É—á–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π <code>counter</code> –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç —Å –Ω–µ–π —Ä–∞–±–æ—Ç–∞—Ç—å. –ü–æ–∫–∞ –æ–¥–Ω–∞ –≥–æ—Ä—É—Ç–∏–Ω–∞ –µ—â–µ –Ω–µ –∑–∞–∫–æ–Ω—á–∏–ª–∞ —Ä–∞–±–æ—Ç—É —Å <code>counter</code> –≤ —Ü–∏–∫–ª–µ, —Å —ç—Ç–æ–π –∂–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –Ω–∞—á–∏–Ω–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∏ –¥—Ä—É–≥–∞—è –≥–æ—Ä—É—Ç–∏–Ω–∞.
                    </div>
                </div>
            </section>

            <!-- –°–µ–∫—Ü–∏—è 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Mutex -->
            <section id="section2" class="content-section">
                <h2 class="section-heading">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Mutex</h2>
                
                <div class="text-content">
                    <p>–ù–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–¥–∞ –º—å—é—Ç–µ–∫—Å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–∏–ø <code>sync.Mutex</code>, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –≤ –ø–∞–∫–µ—Ç–µ <code>sync</code>. –î–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–±—â–µ–º—É —Ä–∞–∑–¥–µ–ª—è–µ–º–æ–º—É —Ä–µ—Å—É—Ä—Å—É —É –º—å—é—Ç–µ–∫—Å–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ <code>Lock()</code>, –∞ –¥–ª—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –¥–æ—Å—Ç—É–ø–∞ - –º–µ—Ç–æ–¥ <code>Unlock()</code>.</p>

                    <div class="code-example">
                        <h4>–ü—Ä–∏–º–µ—Ä - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Mutex –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏</h4>
                        <pre><code class="language-go">package main
import (
    "fmt"
    "sync"
    "time"
)
 
var counter int = 0             // –æ–±—â–∏–π —Ä–µ—Å—É—Ä—Å
var wg sync.WaitGroup 
     
func work (number int, mutex *sync.Mutex){
    mutex.Lock()    // –±–ª–æ–∫–∏—Ä—É–µ–º –¥–æ—Å—Ç—É–ø –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π counter
 
    counter = 0  // —Å–±—Ä–∞—Å—ã–≤–∞–µ–º –æ–±—â–∏–π —Ä–µ—Å—É—Ä—Å
 
    for k := 1; k <= 5; k++{
        counter += 1       // –∏–∑–º–µ–Ω—è–µ–º –æ–±—â–∏–π —Ä–µ—Å—É—Ä—Å
        time.Sleep(100 * time.Millisecond)
        fmt.Println("Goroutine", number, "-", counter)
    }
 
    mutex.Unlock()  // –¥–µ–±–ª–æ–∫–∏—Ä—É–µ–º –¥–æ—Å—Ç—É–ø
 
    wg.Done()       // —Å–∏–≥–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º, —á—Ç–æ –≥–æ—Ä—É—Ç–∏–Ω–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞ —Ä–∞–±–æ—Ç—É
}
 
func main() {
    var mutex sync.Mutex        // –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –º—å—é—Ç–µ–∫—Å
 
    goroutines_count := 4   // –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—É—Å–∫–∞–µ–º—ã—Ö –≥–æ—Ä—É—Ç–∏–Ω
 
    wg.Add(goroutines_count) 
 
    // –∑–∞–ø—É—Å–∫–∞–µ–º –≥–æ—Ä—É—Ç–∏–Ω—ã
    for i := 1; i <= goroutines_count; i++{
        go work(i, &mutex)
    }
    // –æ–∂–∏–¥–∞–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –≥–æ—Ä—É—Ç–∏–Ω
    wg.Wait()
 
    fmt.Println("The End")
}</code></pre>
                    </div>

                    <p>–¢–µ–ø–µ—Ä—å —Ñ—É–Ω–∫—Ü–∏—è <code>work</code> –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –º—å—é—Ç–µ–∫—Å. –° –ø–æ–º–æ—â—å—é –≤—ã–∑–æ–≤–∞ <code>mutex.Lock()</code> –º—å—é—Ç–µ–∫—Å –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –¥–∞–Ω–Ω–æ–π –≥–æ—Ä—É—Ç–∏–Ω–æ–π. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –∫ –ø–æ—Å–ª–µ–¥—É—é—â–µ–º—É –∫–æ–¥—É –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ —Ç–∞ –≥–æ—Ä—É—Ç–∏–Ω–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–µ—Ä–≤–∞—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∞ –º—å—é—Ç–µ–∫—Å. –û—Å—Ç–∞–ª—å–Ω—ã–µ –≥–æ—Ä—É—Ç–∏–Ω—ã –∂–¥—É—Ç –ø–æ–∫–∞ –º—å—é—Ç–µ–∫—Å –æ—Å–≤–æ–±–æ–¥–∏—Ç—Å—è.</p>

                    <div class="info-box">
                        <strong>üí° –í–∞–∂–Ω–æ:</strong> –ö —Å–µ–∫—Ü–∏–∏ –º–µ–∂–¥—É <code>Lock()</code> –∏ <code>Unlock()</code> –±—É–¥–µ—Ç –∏–º–µ—Ç—å –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ —Ç–∞ –≥–æ—Ä—É—Ç–∏–Ω–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–µ—Ä–≤–∞—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∞ –º—å—é—Ç–µ–∫—Å. –í –∏—Ç–æ–≥–µ –º—ã –ø–æ–ª—É—á–∏–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –≤—ã–≤–æ–¥.
                    </div>

                    <div class="code-example">
                        <h4>–ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤—ã–≤–æ–¥ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Mutex</h4>
                        <pre><code class="language-text">Goroutine 4 - 1
Goroutine 4 - 2
Goroutine 4 - 3
Goroutine 4 - 4
Goroutine 4 - 5
Goroutine 1 - 1
Goroutine 1 - 2
Goroutine 1 - 3
Goroutine 1 - 4
Goroutine 1 - 5
Goroutine 2 - 1
Goroutine 2 - 2
Goroutine 2 - 3
Goroutine 2 - 4
Goroutine 2 - 5
Goroutine 3 - 1
Goroutine 3 - 2
Goroutine 3 - 3
Goroutine 3 - 4
Goroutine 3 - 5
The End</code></pre>
                    </div>
                </div>
            </section>

            <!-- –°–µ–∫—Ü–∏—è 3: RWMutex -->
            <section id="section3" class="content-section">
                <h2 class="section-heading">RWMutex</h2>
                
                <div class="text-content">
                    <p>–ì–æ—Ä—É—Ç–∏–Ω–∞ –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ —Å—á–∏—Ç—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, –ª–∏–±–æ —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω—è—Ç—å –∏—Ö. –ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–∏ —Å–æ–≤–º–µ—Å—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –≥–æ—Ä—É—Ç–∏–Ω–∞–º–∏ –Ω–µ –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è, —Ç–æ–≥–¥–∞ –∫–∞–∫ –ø—Ä–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á—Ç–µ–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –≥–æ—Ä—É—Ç–∏–Ω –º–æ–≥—É—Ç —Å—á–∏—Ç—ã–≤–∞—Ç—å –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –¥–∞–Ω–Ω—ã–µ –±–µ–∑ –∫–∞–∫–∏—Ö-–ª–∏–±–æ –ø—Ä–æ–±–ª–µ–º.</p>

                    <p>Go –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –º—å—é—Ç–µ–∫—Å –¥–ª—è —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏ - —Å—Ç—Ä—É–∫—Ç—É—Ä—É <code>sync.RWMutex</code>, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø–æ–ª—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–º—è—Ç–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏.</p>

                    <div class="info-box">
                        <strong>üí° –í–∞–∂–Ω–æ:</strong> <code>sync.RWMutex</code> —Ä–µ–∞–ª–∏–∑—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏/—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏:
                        <ul>
                            <li><code>RLock()</code>: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –Ω–∞ —á—Ç–µ–Ω–∏–µ</li>
                            <li><code>RUnlock()</code>: –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—É—é –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –Ω–∞ —á—Ç–µ–Ω–∏–µ</li>
                            <li><code>Lock()</code>: –±–ª–æ–∫–∏—Ä—É–µ—Ç –º—å—é—Ç–µ–∫—Å –¥–ª—è –∑–∞–ø–∏—Å–∏</li>
                            <li><code>Unlock()</code>: —Å–Ω–∏–º–∞–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –Ω–∞ –∑–∞–ø–∏—Å—å</li>
                        </ul>
                    </div>

                    <div class="code-example">
                        <h4>–ü—Ä–∏–º–µ—Ä - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RWMutex</h4>
                        <pre><code class="language-go">package main
 
import (
    "fmt"
    "sync"
)
 
type Map_struct struct{ 
    values map[int] int
    sync.RWMutex
}
 
var wg sync.WaitGroup 
 
// –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
func (map_data *Map_struct) update_map(keyval int){ 
    map_data.Lock()     // –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞ –∑–∞–ø–∏—Å—å
 
    map_data.values[keyval] = keyval * 10  // –∏–∑–º–µ–Ω—è–µ–º –æ–±—â–∏–π —Ä–µ—Å—É—Ä—Å
 
    map_data.Unlock()   // —Å–±—Ä–∞—Å—ã–≤–∞–µ–º –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –Ω–∞ –∑–∞–ø–∏—Å—å
 
    wg.Done()       // —É–≤–µ–¥–æ–º–ª—è–µ–º, —á—Ç–æ –≥–æ—Ä—É—Ç–∏–Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
}
 
// —á—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
func (map_data *Map_struct) read_map(){
    map_data.RLock()        // —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –Ω–∞ —á—Ç–µ–Ω–∏–µ
 
    val := map_data.values // —Å—á–∏—Ç—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ
 
    map_data.RUnlock()     // —Å–±—Ä–∞—Å—ã–≤–∞–µ–º –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –Ω–∞ —á—Ç–µ–Ω–∏–µ
 
    fmt.Println(val)
    wg.Done()       // —É–≤–µ–¥–æ–º–ª—è–µ–º, —á—Ç–æ –≥–æ—Ä—É—Ç–∏–Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
}
 
func main(){
    my_map := Map_struct{values:make(map[int]int)} 
 
    wg.Add(2*5)       // –ø–æ –ø—è—Ç—å –≥–æ—Ä—É—Ç–∏–Ω update_map –∏ read_map
 
    for n:= 1; n <= 5; n++{
        go my_map.update_map(n) 
        go my_map.read_map()
    }
    wg.Wait()  // –∂–¥–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –≥–æ—Ä—É—Ç–∏–Ω
}</code></pre>
                    </div>

                    <p>–ó–¥–µ—Å—å –º—ã —Å–æ–∑–¥–∞–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É <code>Map_struct</code>, –∫–æ—Ç–æ—Ä–∞—è –∏–º–µ–µ—Ç –¥–≤–∞ –ø–æ–ª—è - <code>values</code> –∏ –æ–±—ä–µ–∫—Ç <code>RWMutex</code>. –í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ <code>RWMutex</code> –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –º–µ—Ç–æ–¥–∞–º –¥–ª—è <code>values</code>.</p>

                    <div class="info-box">
                        <strong>üí° –í–∞–∂–Ω–æ:</strong> –ì–æ—Ä—É—Ç–∏–Ω–∞ <code>read_map</code> —Å –ø–æ–º–æ—â—å—é –≤—ã–∑–æ–≤–∞ <code>RLock()</code> —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏ —á—Ç–µ–Ω–∏—è, –∞ –≥–æ—Ä—É—Ç–∏–Ω–∞ <code>update_map</code> –ø–æ–ª—É—á–∞–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–∏ —Å –ø–æ–º–æ—â—å—é <code>Lock()</code>. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —á–∏—Ç–∞—Ç–µ–ª—è–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º, –Ω–æ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–º—É –ø–∏—Å–∞—Ç–µ–ª—é.
                    </div>

                    <div class="warning-box">
                        <strong>‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ:</strong> –í—ã–≤–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω–µ–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω –∏ –º–æ–∂–µ—Ç –≤–∞—Ä—å–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–æ—Ä—è–¥–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≥–æ—Ä—É—Ç–∏–Ω. –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞: <code>map[]</code>, <code>map[1:10]</code>, <code>map[1:10 2:20]</code>, <code>map[1:10 2:20 3:30]</code>, <code>map[1:10 2:20 3:30 4:40]</code>.
                    </div>
                </div>
            </section>
        </main>

        <!-- –ü–∞–Ω–µ–ª—å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –º–µ–∂–¥—É —Ç–µ–º–∞–º–∏ -->
        <div class="theory-navigation">
            <a href="topic6-4-theory.html" class="nav-button prev">‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∞—è —Ç–µ–º–∞</a>
            <a href="../index.html" class="nav-button home">–ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
            <a href="section6-questions.html" class="nav-button next">–í–æ–ø—Ä–æ—Å—ã –∏ –∑–∞–¥–∞–Ω–∏—è ‚Üí</a>
        </div>

        <footer class="theory-footer">
            <p>&copy; 2025 –≠–£–ú–ö "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ Go". –ú–∞—Ç–µ—Ä–∏–∞–ª –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –¥–ª—è —É—á–µ–±–Ω—ã—Ö —Ü–µ–ª–µ–π.</p>
        </footer>
    </div>

    <script src="../js/code-highlight.js"></script>
</body>
</html>